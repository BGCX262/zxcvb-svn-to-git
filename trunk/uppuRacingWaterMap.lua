require "uppuRacingMap"
require "uppuRacingPenguinBlockObject"
require "uppuRacingHighBlockObject"
require "uppuRacingTileObject"
require "uppuRacingIceTileObject"
require "uppuRacingTrapObject"
require "uppuRacingBombBoxObject"
require "uppuRacingLowBlockObject"

class 'uppuRacingWaterMap' (uppuRacingMap)

function uppuRacingWaterMap:__init(name, scene, owner) super(name, scene, 30, 30, owner)
	self.tempObjects = {}

	self:LoadLevelIceWorld()
	self.finalLap = 2
end

function uppuRacingWaterMap:Destroy()
	for i, object in pairs(self.tempObjects) do
		object:Destroy()
	end
end

function uppuRacingWaterMap:LoadLevelIceWorld()

	local imageList = { }
	imageList[1] = StaticImage()
	imageList[1]:LoadStaticImage("images\\ido_up_bg001_001.bmp", 13, 12, nil, UIConst.Blue)
	imageList[2] = StaticImage()
	imageList[2]:LoadStaticImage("images\\ido_up_bg001_002.bmp", 16, 15, nil, UIConst.Blue)
	imageList[3] = StaticImage()
	imageList[3]:LoadStaticImage("images\\ido_up_bg002_001.bmp", 16, 15, nil, UIConst.Blue)
	imageList[4] = StaticImage()
	imageList[4]:LoadStaticImage("images\\ido_up_bg002_002.bmp", 16, 15, nil, UIConst.Blue)
	imageList[5] = StaticImage()
	imageList[5]:LoadStaticImage("images\\ido_up_bg003_001.bmp", 13, 13, nil, UIConst.Blue)
	imageList[6] = StaticImage()
	imageList[6]:LoadStaticImage("images\\ido_up_bg003_002.bmp", 16, 15, nil, UIConst.Blue)
	imageList[7] = StaticImage()
	imageList[7]:LoadStaticImage("images\\ido_up_bg004_001.bmp", 15, 17, nil, UIConst.Blue)
	imageList[8] = StaticImage()
	imageList[8]:LoadStaticImage("images\\ido_up_bg004_002.bmp", 15, 10, nil, UIConst.Blue)
	imageList[9] = StaticImage()
	imageList[9]:LoadStaticImage("images\\ido_up_bg005_001.bmp", 13, 11, nil, UIConst.Blue)
	imageList[10] = StaticImage()
	imageList[10]:LoadStaticImage("images\\ido_up_bg005_002.bmp", 16, 15, nil, UIConst.Blue)
	imageList[11] = StaticImage()
	imageList[11]:LoadStaticImage("images\\ido_up_bg006_001.bmp", 16, 15, nil, UIConst.Blue)
	imageList[12] = StaticImage()
	imageList[12]:LoadStaticImage("images\\ido_up_bg006_002.bmp", 16, 15, nil, UIConst.Blue)

	local tileImageNumber = { 
		10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 
		10, 9, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 9, 7, 7, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 7, 7, 9, 9, 7, 7, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 7, 7, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 9, 7, 7, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 9, 10, 9, 9, 7, 7, 9, 9, 9, 9, 7, 7, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 9, 10, 9, 9, 7, 7, 9, 9, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 10, 10, 10, 10, 10, 9, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 10, 10, 9, 10, 10, 9, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 10, 9, 9, 10, 10, 9, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 10, 9, 9, 10, 10, 9, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 10, 9, 9, 10, 10, 9, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 10, 9, 9, 10, 10, 9, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 10, 9, 9, 10, 10, 9, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 10, 9, 9, 10, 10, 9, 9, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 10, 9, 9, 10, 10, 10, 10, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 10, 10, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 9, 9, 10, 9, 10, 10, 10, 10, 10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 
		10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 9, 9, 9, 9, 9, 10, 9, 9, 9, 9, 9, 9, 9, 9, 9, 10, 
		10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 9, 9, 9, 9, 9, 9, 9, 9, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10
	}

	local tileImageIndex = { 
		27, 106, 106, 106, 106, 106, 106, 106, 177, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 178, 179, 106, 106, 106, 106, 106, 106, 106, 27, 
		83, 33, 33, 33, 33, 33, 33, 33, 193, 119, 119, 119, 119, 119, 119, 119, 119, 35, 36, 119, 119, 195, 33, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 33, 193, 119, 119, 119, 119, 35, 36, 119, 119, 50, 51, 119, 119, 195, 33, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 33, 193, 119, 119, 119, 119, 50, 51, 119, 119, 119, 119, 119, 119, 195, 33, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 33, 193, 119, 119, 119, 119, 119, 119, 119, 119, 35, 36, 119, 119, 195, 33, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 33, 193, 119, 119, 35, 36, 119, 119, 119, 119, 50, 51, 119, 119, 195, 33, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 33, 193, 119, 119, 50, 51, 119, 119, 119, 119, 119, 119, 119, 119, 195, 33, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 6, 123, 123, 123, 123, 123, 123, 123, 123, 123, 123, 123, 123, 123, 123, 7, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 64, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 33, 64, 33, 33, 33, 33, 33, 33, 33, 33, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 33, 33, 64, 33, 33, 33, 33, 33, 33, 33, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 33, 33, 33, 64, 33, 33, 33, 33, 33, 33, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 4, 90, 90, 90, 90, 90, 90, 90, 90, 5, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 239, 239, 72, 239, 239, 71, 239, 239, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 239, 70, 239, 72, 239, 239, 239, 239, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 239, 239, 239, 239, 72, 239, 239, 72, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 13, 13, 13, 13, 13, 13, 13, 239, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 13, 72, 71, 70, 72, 71, 13, 239, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 13, 239, 239, 13, 239, 239, 13, 239, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 13, 239, 13, 13, 239, 239, 13, 239, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 13, 239, 13, 13, 239, 239, 13, 239, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 13, 239, 13, 13, 239, 239, 13, 239, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 13, 239, 13, 13, 239, 239, 13, 239, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 13, 239, 13, 13, 239, 239, 13, 239, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 13, 239, 13, 13, 239, 239, 13, 13, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 86, 33, 33, 82, 13, 239, 13, 13, 239, 239, 239, 239, 83, 33, 33, 86, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 19, 33, 33, 82, 13, 239, 239, 13, 13, 13, 13, 13, 83, 33, 33, 19, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 33, 33, 33, 82, 13, 13, 239, 13, 239, 239, 239, 239, 83, 33, 33, 33, 33, 33, 33, 33, 33, 33, 82, 
		83, 33, 33, 33, 33, 33, 33, 33, 33, 33, 82, 239, 239, 239, 13, 13, 13, 13, 13, 83, 33, 33, 33, 33, 33, 33, 33, 33, 33, 82, 
		10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 26, 13, 13, 13, 13, 13, 13, 13, 13, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 11
	}

	local tileImageType = { 
		"TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "T", "T", "TI", "TI", "TI", "TI", "TI", "TI", "TI", "TI", "TT", "TT", "TI", "TI", "T", "T", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "T", "T", "TI", "TI", "TI", "TI", "TT", "TT", "TI", "TI", "TT", "TT", "TI", "TI", "T", "T", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "T", "T", "TI", "TI", "TI", "TI", "TT", "TT", "TI", "TI", "TI", "TI", "TI", "TI", "T", "T", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "T", "T", "TI", "TI", "TI", "TI", "TI", "TI", "TI", "TI", "TT", "TT", "TI", "TI", "T", "T", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "T", "T", "TI", "TI", "TT", "TT", "TI", "TI", "TI", "TI", "TT", "TT", "TI", "TI", "T", "T", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "T", "T", "TI", "TI", "TT", "TT", "TI", "TI", "TI", "TI", "TI", "TI", "TI", "TI", "T", "T", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "TH", "T", "T", "T", "T", "T", "TH", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "TH", "T", "T", "TH", "T", "T", "TH", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "TH", "T", "TH", "TH", "T", "T", "TH", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "TH", "T", "TH", "TH", "T", "T", "TH", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "TH", "T", "TH", "TH", "T", "T", "TH", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "TH", "T", "TH", "TH", "T", "T", "TH", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "TH", "T", "TH", "TH", "T", "T", "TH", "T", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "TH", "T", "TH", "TH", "T", "T", "TH", "TH", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "TH", "T", "TH", "TH", "T", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "TH", "T", "T", "TH", "TH", "T", "T", "TH", "TH", "TH", "TH", "TH", "TH", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "T", "T", "T", "TH", "TH", "TH", "T", "TH", "T", "T", "T", "T", "TH", "T", "T", "T", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "T", "TH", "TH", "TH", "TH", "TH", "TH", "T", "T", "T", "T", "T", "T", "T", "T", "T", "TH", 
		"TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH", "TH"
	}

	local objectImageNumber = { 
		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
		-1, 9, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
		-1, 9, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 9, -1, -1, -1, -1, -1, 
		-1, -1, -1, -1, -1, 9, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 9, -1, -1, -1, -1, -1, 
		-1, -1, -1, -1, -1, 9, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, 8, 8, -1, 8, 8, -1, 
		-1, 9, 9, 9, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, -1, 8, -1, 8, -1, 
		-1, -1, -1, -1, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, -1, 8, -1, 8, -1, -1, 
		-1, -1, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
		-1, -1, -1, 7, -1, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
		-1, -1, -1, -1, -1, -1, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
		-1, -1, -1, -1, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
		-1, -1, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, -1, -1, -1, 
		-1, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, -1, -1, -1, -1, 
		-1, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 10, -1, -1, 8, -1, -1, 7, 8, -1, -1, 
		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, -1, -1, -1, 8, -1, 
		-1, -1, 9, 9, 9, 9, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, -1, -1, -1, 
		-1, -1, -1, -1, -1, -1, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 10, -1, -1, -1, 8, -1, -1, -1, -1, 
		-1, -1, 9, 9, 9, 9, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, -1, 7, 8, -1, -1, 
		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, -1, -1, -1, -1, 8, -1, 
		-1, -1, -1, -1, -1, -1, -1, -1, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 10, -1, -1, 7, -1, 8, 7, -1, -1, 
		-1, 9, 9, 9, 9, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, -1, -1, -1, -1, 
		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, -1, -1, 7, 8, -1, -1, 
		-1, -1, -1, 9, -1, 9, 9, -1, -1, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 10, -1, -1, -1, 8, -1, -1, -1, 8, -1, 
		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, -1, -1, -1, -1, -1, -1, -1, -1, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 
		-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1
	}

	local objectImageIndex = { 
		999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 
		999, 29, 30, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 
		999, 42, 43, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 
		999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 
		999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 29, 30, 999, 999, 999, 999, 999, 
		999, 999, 999, 999, 999, 29, 30, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 42, 43, 999, 999, 999, 999, 999, 
		999, 999, 999, 999, 999, 42, 43, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 
		999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 144, 144, 144, 999, 144, 144, 999, 
		999, 110, 110, 110, 110, 999, 999, 999, 999, 999, -1, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 
		999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, -2, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 144, 999, 144, 999, 144, 999, 
		999, 999, 999, 999, 235, 999, 999, 999, 999, 999, 999, 999, -3, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 144, 999, 144, 999, 144, 999, 999, 
		999, 999, 235, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, -4, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 
		999, 999, 999, 235, 999, 235, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 
		999, 999, 999, 999, 999, 999, 235, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 
		999, 999, 999, 999, 235, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 
		999, 999, 235, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 144, 999, 999, 999, 
		999, 235, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 144, 999, 999, 999, 999, 
		999, 235, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 69, 999, 999, 144, 999, 999, 235, 144, 999, 999, 
		999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 144, 999, 999, 999, 144, 999, 
		999, 999, 110, 110, 110, 110, 110, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 144, 999, 999, 999, 
		999, 999, 999, 999, 999, 999, 110, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 69, 999, 999, 999, 144, 999, 999, 999, 999, 
		999, 999, 110, 110, 110, 110, 110, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 144, 999, 235, 144, 999, 999, 
		999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 144, 999, 999, 999, 999, 144, 999, 
		999, 999, 999, 999, 999, 999, 999, 999, 69, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 69, 999, 999, 235, 999, 144, 235, 999, 999, 
		999, 110, 110, 110, 110, 110, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 144, 999, 999, 999, 999, 
		999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 144, 999, 999, 235, 144, 999, 999, 
		999, 999, 999, 110, 999, 110, 110, 999, 999, 69, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 69, 999, 999, 999, 144, 999, 999, 999, 144, 999, 
		999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 77, 999, 999, 999, 999, 999, 999, 999, 999, 76, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 
		999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 
		999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999, 999
	}

	local objectImageType = { 
		"N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", 
		"N", "O", "O", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", 
		"N", "O", "O", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", 
		"N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", 
		"N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "O", "O", "N", "N", "N", "N", "N", 
		"N", "N", "N", "N", "N", "O", "O", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "O", "O", "N", "N", "N", "N", "N", 
		"N", "N", "N", "N", "N", "O", "O", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", 
		"N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OP", "OP", "OP", "N", "OP", "OP", "N", 
		"N", "O", "O", "O", "O", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", 
		"N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OP", "N", "OP", "N", "OP", "N", 
		"N", "N", "N", "N", "OB", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OP", "N", "OP", "N", "OP", "N", "N", 
		"N", "N", "OB", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", 
		"N", "N", "N", "OB", "N", "OB", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", 
		"N", "N", "N", "N", "N", "N", "OB", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", 
		"N", "N", "N", "N", "OB", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", 
		"N", "N", "OB", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OP", "N", "N", "N", 
		"N", "OB", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OP", "N", "N", "N", "N", 
		"N", "OB", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OL", "N", "N", "OP", "N", "N", "OB", "OP", "N", "N", 
		"N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OP", "N", "N", "N", "OP", "N", 
		"N", "N", "O", "O", "O", "O", "O", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OP", "N", "N", "N", 
		"N", "N", "N", "N", "N", "N", "O", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OL", "N", "N", "N", "OP", "N", "N", "N", "N", 
		"N", "N", "O", "O", "O", "O", "O", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OP", "N", "OB", "OP", "N", "N", 
		"N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OP", "N", "N", "N", "N", "OP", "N", 
		"N", "N", "N", "N", "N", "N", "N", "N", "OL", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OL", "N", "N", "OB", "N", "OP", "OB", "N", "N", 
		"N", "O", "O", "O", "O", "O", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OP", "N", "N", "N", "N", 
		"N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OP", "N", "N", "OB", "OP", "N", "N", 
		"N", "N", "N", "O", "N", "O", "O", "N", "N", "OL", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "OL", "N", "N", "N", "OP", "N", "N", "N", "OP", "N", 
		"N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "O", "N", "N", "N", "N", "N", "N", "N", "N", "O", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", 
		"N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", 
		"N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N"
	}

	for i, tileIndex in pairs(tileImageIndex) do
		local tile = imageList[ tileImageNumber[i] ]:Clone()
		tile:SetStaticImageIndex( tileImageIndex[i] )

		local object = nil
		local x, y = self:GetXYPos(i)
		local pos = b2Vec2(x, y)

		if tileImageType[i] == "TH" then
			object = uppuRacingHighBlockObject(self.world, pos, 0, tile)
		elseif tileImageType[i] == "TT" then
			object = uppuRacingTrapObject(self.world, pos, 0, tile)
		elseif tileImageType[i] == "TI" then
			object = uppuRacingIceTileObject(self.world, pos, 0, tile)
		else
			object = uppuRacingTileObject(pos, 0, tile)
		end

		self.tempObjects[#self.tempObjects + 1] = object
	end

	for i, objectIndex in pairs(objectImageIndex) do
		if objectIndex ~= 999 and objectIndex > 0 then
			local object = nil
			local x, y = self:GetXYPos(i)
			local pos = b2Vec2(x, y)

			if objectImageType[i] == "OP" then
				local oid = self:GetNewOID()
				object = uppuRacingPenguinBlockObject(self.world, oid, pos, 0)
				self.objects[oid] = object
			elseif objectImageType[i] == "OB" then
				local oid = self:GetNewOID()
				object = uppuRacingBombBoxObject(self.world, oid, pos, 0)
				self.objects[oid] = object
			elseif objectImageType[i] == "OL" then
				imageList[ objectImageNumber[i] ]:SetStaticImageIndex( objectImageIndex[i] )
				object = uppuRacingLowBlockObject(self.world, pos, 0, true, imageList[ objectImageNumber[i] ]:Clone() )
			else
				imageList[ objectImageNumber[i] ]:SetStaticImageIndex( objectImageIndex[i] )
				object = uppuRacingHighBlockObject(self.world, pos, 0, imageList[ objectImageNumber[i] ]:Clone() )
			end

			self.tempObjects[#self.tempObjects + 1] = object
		end

		if objectIndex < 0 then
			self.startPoint[ math.abs(objectIndex) ] = i
		end
	end

	self.passRects[1] = Rect(360, 1620, 420, 1740)
	self.passRects[2] = Rect(480, 60, 540, 420)
	self.passRects[3] = Rect(1380, 600, 1740, 660)
	self.passRects[4] = Rect(840, 480, 900, 1080)

	self:SendNPOList()
end

function uppuRacingWaterMap:SendNPOList()
	local msg = Message(Object_NPO_List)
	local npolist = List()
	local count = 0
	for oid, object in pairs(self.objects) do
		if object.classtype == CLASS_NPO then
			npolist:Add(oid)
			count = count + 1

			-- 10개씩 묶어서 보냄
			-- RUDP 패킷 크기 문제...
			if count == 10 then
				local npostring = npolist:GetString()
				msg:SetValue(Object_NPO_List.key.list, npostring)
				gameapp:SendToServer(msg)

				npolist:Clear()
				count = 0
			end
		end
	end

	local npostring = npolist:GetString()
	msg:SetValue(Object_NPO_List.key.list, npostring)
	gameapp:SendToServer(msg)
end
